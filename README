The Ngx_http_requestid_module module is designed to generate a unique request ID.

The result of the module is a variable $request_id containing an unique request ID.

The ID is generated by md5 ('ngx_pid, connection_number, rand ()), where:

  * Ngx_pid - Nginx PID process
  * Connection_number - COUNTER current connection instance nginx
  * Rand () - random number

Example configurations:

# Set Proxy Header
location / {
     requestid on;
     proxy_pass http://127.0.0.1;
     proxy_set_header X-Request-Id $ request_id
}


# Set HTTP Header
location / {
     add_header X-Request-Id $request_id;
}


Configuration:

syntax: requestid on | off
default: off
context: server, location

If the module is enabled the $request_id variable can be written in the access_log, using the directive log_format.
